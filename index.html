<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Interactive Specimen Study</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            background-color: #f4f7f9;
            color: #333;
            text-align: center;
        }
        .main-container {
            width: 90%;
            max-width: 700px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
            padding: 20px 30px;
            margin: 20px 0;
        }
        header h1 {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        header p {
            font-size: 1.1em;
            color: #7f8c8d;
            margin-top: 0;
        }
        #video-container {
            width: 100%;
            margin: 20px 0;
            cursor: grab;
            user-select: none;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e1e1e1;
        }
        video {
            width: 100%;
            height: auto;
            display: block;
            pointer-events: none; /* Let the container handle events */
        }
        .notes-section {
            text-align: left;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eeeeee;
        }
        .notes-section h2 {
            font-size: 1.4em;
            color: #34495e;
            margin-bottom: 10px;
        }
        .notes-section p {
            font-size: 1em;
            line-height: 1.6;
            color: #555;
        }
        .notes-section ul {
            padding-left: 20px;
        }
        .notes-section li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>

    <div class="main-container">
        <header>
            <h1>Interactive Specimen Analysis</h1>
            <p>Drag the specimen to observe its features from all angles.</p>
        </header>

        <div id="video-container">
            <!-- The video is muted and preloaded, but has no default controls -->
            <video id="interactive-video" muted playsinline preload="auto">
                <!-- CORRECTED: The src now matches your uploaded filename -->
                <source src="Img 9361.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <section class="notes-section">
            <h2>Specimen Notes: Heart (Cross-Section)</h2>
            <p>This specimen shows a coronal cross-section of a mammalian heart. By scrubbing through the video, you can observe the four primary chambers:</p>
            <ul>
                <li><strong>Right Atrium:</strong> Receives deoxygenated blood from the body.</li>
                <li><strong>Right Ventricle:</strong> Pumps deoxygenated blood to the lungs.</li>
                <li><strong>Left Atrium:</strong> Receives oxygenated blood from the lungs.</li>
                <li><strong>Left Ventricle:</strong> The strongest chamber, pumping oxygenated blood to the rest of the body.</li>
            </ul>
            <p>Pay close attention to the thickness of the ventricular walls, especially the myocardium of the left ventricle.</p>
        </section>
    </div>

    <script>
        const video = document.getElementById('interactive-video');
        const videoContainer = document.getElementById('video-container');

        let isDragging = false;
        let lastX = 0;

        // Ensure the video is paused initially and ready for scrubbing
        video.pause();

        // Wait for video metadata to load to get its duration
        video.addEventListener('loadedmetadata', () => {
            // Set the video to the first frame
            video.currentTime = 0;
        });

        const scrubVideo = (clientX) => {
            if (!video.duration) return; // Don't do anything if video duration is not known

            const rect = videoContainer.getBoundingClientRect();
            const sensitivity = 50; // Higher number = less sensitive scrubbing
            const deltaX = clientX - lastX;
            
            // Calculate how much to change the video time
            const scrubAmount = (deltaX / rect.width) * video.duration / (100 / sensitivity);
            
            // Update the video's current time
            let newTime = video.currentTime + scrubAmount;
            
            // Clamp the time between 0 and video duration
            newTime = Math.max(0, Math.min(video.duration, newTime));
            
            video.currentTime = newTime;
            lastX = clientX;
        };

        const onDragStart = (clientX) => {
            isDragging = true;
            lastX = clientX;
            videoContainer.style.cursor = 'grabbing';
        };

        const onDragMove = (clientX) => {
            if (isDragging) {
                scrubVideo(clientX);
            }
        };

        const onDragEnd = () => {
            isDragging = false;
            videoContainer.style.cursor = 'grab';
        };

        // Mouse Events
        videoContainer.addEventListener('mousedown', (e) => onDragStart(e.clientX));
        window.addEventListener('mousemove', (e) => onDragMove(e.clientX));
        window.addEventListener('mouseup', onDragEnd);

        // Touch Events
        videoContainer.addEventListener('touchstart', (e) => onDragStart(e.touches[0].clientX), { passive: true });
        window.addEventListener('touchmove', (e) => onDragMove(e.touches[0].clientX));
        window.addEventListener('touchend', onDragEnd);

    </script>

</body>
</html>
